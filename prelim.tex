\chapter[Приложение]{}
\chaptermark{}

\begin{multicols}{2}
{\footnotesize

Это приложение лучше использовать как справочник.
В основном здесь даются формулировки нужных результатов и ссылки на их доказательства.

\section{Метрические пространства}\label{sec:metric-spcaes}

Мы предполагаем, что читатель знаком с метрикой на евклидовом пространстве. 
В этом разделе мы даём его обобщение и вводим обозначения, которые будем использовать.
Все эти темы подробно обсуждаются в вводной части книги Дмитрия Бураго, Юрия Бураго и Сергея Иванова \cite{burago-burago-ivanov}.

\subsection*{Определения}

\emph{Метрика} --- это функция, которая возвращает вещественное значение $\Dist(x,y)$ для любой пары элементов $x,y$ данного множества $\spc{X}$ и удовлетворяет следующим свойствам для любой тройки $x,y,z\in\spc{X}$: \label{page:def:metric}
\begin{enumerate}[(a)]
\item\label{def:metric-space:a}
Положительность: 
$$\Dist(x,y)\ge 0.$$
\item\label{def:metric-space:b}
$x=y$ тогда и только тогда, когда 
$$\Dist(x,y)=0.$$
\item\label{def:metric-space:c}
Симметричность: $$\Dist(x, y) = \Dist(y, x).$$
\item\label{def:metric-space:d}
Неравенство треугольника: 
$$\Dist(x, z) \le \Dist(x, y) + \Dist(y, z).$$
\end{enumerate}

{\sloppy

Множество с выбранной метрикой называется \index{метрическое пространство}\emph{метрическим пространством}, а элементы множества называются его \index{точка}\emph{точками}.

}

\subsection*{Обозначение метрики}

Как правило, мы рассматриваем только одну метрику на множестве, поэтому допустимо обозначать метрическое пространство и его подлежащее множество одной и той же буквой, скажем, $\spc{X}$.
В этом случае мы также используем сокращённые обозначения $\dist{x}{y}{}$ или $\dist{x}{y}{\spc{X}}$ для \emph{расстояния} $\Dist(x,y)$ от $x$ до $y$ в $\spc{X}$.\index{10aaa@$\dist{x}{y}{}$, $\dist{x}{y}{\spc{X}}$ (расстояние)}
Например, неравенство треугольника можно записать как
$$\dist{x}{z}{\spc{X}}\le \dist{x}{y}{\spc{X}}+\dist{y}{z}{\spc{X}}.$$

Евклидово пространство и плоскость, а также вещественная прямая будут самыми важными примерами метрических пространств.
В этих примерах можно думать, что расстояние $\dist{x}{y}{}$ от $x$ до $y$ есть норма вектора $x-y$.
При этом отметим, что в общем случае, разница точек $x-y$ метрического пространства не имеет смысла.

\subsection*{Ещё примеры}

Обычно, если мы говорим \emph{плоскость} или \emph{пространство}, имеется в виду \emph{евклидова} плоскость или пространство.
Однако плоскость (как и пространство) допускает множество других метрик; например, так называемую \emph{метрику городских кварталов} из следующего упражнения.

\begin{thm}{Упражнение}\label{ex:ell-infty}
Рассмотрим функцию
$$\Dist(p,q)=|x_1-x_2|+|y_1-y_2|,$$
где $p=(x_1,y_1)$ и $q=(x_2,y_2)$ --- точки на координатной плоскости~$\mathbb{R}^2$.
Докажите, что это метрика на $\mathbb{R}^2$.
\end{thm}

Ещё один пример: \emph{дискретное пространство} --- произвольное непустое множество $\spc{X}$ с метрикой, определяемой как $\dist{x}{y}{\spc{X}}=0$, если $x=y$, и $\dist{x}{y}{\spc{X}}=1$ в противном случае.

\subsection*{Подпространства}

{\sloppy

Любое подмножество метрического пространства само окажется метрическим пространством, если сузить исходную метрику на это подмножество;
полученное метрическое пространство называется \emph{подпространством}.
В частности, все подмножества евклидова пространства являются метрическими пространствами.

}

\subsection*{Шары}

Для данной точки $p$ метрического пространства $\spc{X}$ и вещественного числа $R\ge 0$ множество точек $x$, находящихся на расстоянии меньше чем $R$ (не больше чем $R$) от $p$, называется \index{открытый!шар}\emph{открытым} (соответственно, \index{замкнутый!шар}\emph{замкнутым}) \emph{шаром} радиуса $R$ с центром в~$p$.
Открытый шар обозначается как $B(p,R)$ или $B(p,R)_{\spc{X}}$;
второе обозначение используется, если хочется подчеркнуть, что наш шар живёт в $\spc{X}$.
Строго говоря,
\begin{align*}
B(p,R)&=B(p,R)_{\spc{X}}=
\\
&=\set{x\in \spc{X}}{\dist{x}{p}{\spc{X}}< R}.
\end{align*}
\index{10b@$B(p,R)_{\spc{X}}$, $\bar B[p,R]_{\spc{X}}$ (шар)}
Замкнутый шар обозначается через $\bar B[p,R]$ или $\bar B[p,R]_{\spc{X}}$, и
\begin{align*}
\bar B[p,R]&=\bar B[p,R]_{\spc{X}}=
\\
&=\set{x\in \spc{X}}{\dist{x}{p}{\spc{X}}\le R}.
\end{align*}

\begin{thm}{Упражнение}\label{ex:B2inB1}

\begin{subthm}{ex:B2inB1:a}
Пусть $p$ и $q$ --- точки метрического пространства $\spc{X}$.
Докажите, что если $\bar B[p,2]\z\subset \bar B[q,1]$, то $\bar B[p,2]\z=\bar B[q,1]$.
\end{subthm}

\begin{subthm}{ex:B2inB1:b}
Постройте метрическое пространство $\spc{X}$ и два шара $B(p,\tfrac32)$ и $B(q,1)$ в нём, со строгим включением
$B(p,\tfrac32)\z\subsetneq B(q,1)$.
\end{subthm}

\end{thm}

\subsection*{Изометрии и движения}

Пусть $\spc{X}$ и $\spc{Y}$ --- метрические пространства.
Отображение $f\:\spc{X} \z\to \spc{Y}$ \index{сохраняющее расстояние}\emph{сохраняет расстояние}, если 
$$\dist{f(x)}{f(y)}{\spc{Y}}
 = \dist{x}{y}{\spc{X}}$$
для любых $x,y\in {\spc{X}}$.

\index{изометрия}\emph{Изометрия} определяется как биективное отображение, сохраняющее расстояние.
Изометрия метрического пространства в себя также называется \index{движение}\emph{движением}.
Два метрических пространства называются \index{изометричные пространства}\emph{изометричными}, если найдётся изометрия между ними.

\begin{thm}{Упражнение}\label{ex:dist-preserv=>injective}
Покажите, что если отображение $f\:\spc{X}\to\spc{Y}$, сохраняет расстояния, то оно \index{инъективное отображение}\emph{инъективно};
то есть $f(x)\ne f(y)$ для любой пары различных точек $x, y\in \spc{X}$.
\end{thm}


\subsection*{Непрерывность}

\begin{thm}{Определение}
Пусть ${\spc{X}}$ --- метрическое пространство.
Последовательность точек $x_1, x_2, \ldots$ в ${\spc{X}}$ \emph{сходится}, 
если существует точка $x_\infty\in {\spc{X}}$, такая что $\dist{x_\infty}{x_n}{}\to 0$ при $n\to\infty$.  
То есть для любого $\epsilon > 0$ существует натуральное число $N$, такое что 
\[
\dist{x_\infty}{x_n}{\spc{X}}
<
\epsilon
\]
при всех $n \ge N$.

В этом случае говорят, что последовательность $x_n$ \emph{сходится} к $x_\infty$, 
или что $x_\infty$ --- \emph{предел} последовательности $x_n$,
и пишут $x_n\to x_\infty$ при $n\to\infty$ или $x_\infty=\lim_{n\to\infty} x_n$.
\end{thm}

\begin{thm}{Определение}\label{def:continuous}
Пусть $\spc{X}$ и $\spc{Y}$ --- метрические пространства.
Отображение $f\:\spc{X}\to \spc{Y}$ называется \index{непрерывный}\emph{непрерывным}, если из сходимости $x_n\z\to x_\infty$ в ${\spc{X}}$
следует сходимость $f(x_n) \z\to f(x_\infty)$ в $\spc{Y}$.

Эквивалентно, $f\:\spc{X}\to \spc{Y}$ непрерывно, если для любого $x\in {\spc{X}}$ и любого $\epsilon>0$
существует $\delta>0$ такое, что 
$$\dist{x}{y}{\spc{X}}<\delta\quad\Longrightarrow\quad \dist{f(x)}{f(y)}{\spc{Y}}<\epsilon.$$

\end{thm}

\begin{thm}{Упражнение}\label{ex:shrt=>continuous}
Пусть $f\:\spc{X}\z\to \spc{Y}$ --- \emph{короткое} отображение между метрическими пространствами, то есть
\[\dist{f(x)}{f(y)}{\spc{Y}}\le \dist{x}{y}{\spc{X}}\]
для любых $x,y\in \spc{X}$.
Покажите, что $f$ непрерывно.
\end{thm}

\section{Топология}\label{sec:topology}

Материал этого раздела обсуждается в любом вводном тексте по топологии;
например, в классическом учебнике Чеса Коснёвского \cite{kosniowski}.

\subsection*{Замкнутые и открытые множества}

\begin{thm}{Определение}
Подмножество $C$ метрического пространства $\spc{X}$ называется \index{замкнутое!множество}\emph{замкнутым}, если всякая сходящаяся в $\spc{X}$ последовательности точек из $C$, имеет предел в $C$.

Множество $\Omega \subset \spc{X}$ называется \index{открытое!множество}\emph{открытым}, если для любой точки $z\in \Omega$ 
существует $\epsilon>0$ такое, что $B(z,\epsilon)\subset\Omega$.
\end{thm}

\begin{thm}{Упражнение}\label{ex:close-open}
Пусть $Q$ --- подмножество метрического пространства $\spc{X}$.
Покажите, что $Q$ замкнуто тогда и только тогда, когда его дополнение $\Omega=\spc{X}\setminus Q$ открыто.
\end{thm}

Открытое множество $\Omega$, содержащее заданную точку $p$, называется \index{окрестность}\emph{окрестностью~$p$}.
Замкнутое подмножество $C$, содержащее точку $p$ вместе с её окрестностью, называется \emph{замкнутой окрестностью~$p$}.

Точка $p$ лежит на \index{граница}\emph{границе} множества $Q$ (это обозначается как $p\in\partial Q$), если любая окрестность точки $p$ содержит точки как из $Q$, так и из его дополнения.

\subsection*{Компактные множества}

{\sloppy
Подмножество $K$ метрического пространства называется \index{компактное множество}\emph{компактным}, если в любой последовательности точек из $K$ найдётся сходящаяся в $K$ подпоследовательность.

}

Из определения следует пара свойств.

\begin{itemize}
\item Замкнутое подмножество компактного множества компактно.
\item Для непрерывного отображения, образ компактного множества компактен.
\end{itemize}


{\sloppy

\begin{thm}{Лемма Гейне --- Бореля}\label{thm:Heine--Borel}
Подмножество евклидова пространства компактно тогда и только тогда, когда оно замкнуто и ограничено.
\end{thm}

}

\subsection*{Гомеоморфизмы\\ и вложения}

Биекция $f\:\spc{X}\to\spc{Y}$ между метрическими пространствами называется \index{гомеоморфизм}\emph{гомеоморфизмом}, если $f$ и обратная $f^{-1}$ непрерывны.
Гомеоморфизм на свой образ называется \index{вложение}\emph{вложением}.

Если существует гомеоморфизм $f\:\spc{X}\to \spc{Y}$,
то мы говорим, что ${\spc{X}}$ {}\emph{гомеоморфно} $\spc{Y}$,
или что $\spc{X}$ и $\spc{Y}$ {}\emph{гомеоморфны}.

{\sloppy

Если метрическое пространство гомеоморфно известному пространству, например, плоскости, сфере, диску, окружности и так далее,
то его можно назвать \index{топологическая}\emph{топологической} плоскостью, сферой, диском, окружностью и так далее.

}

Следующая теорема характеризует гомеоморфизмы между компактными пространствами:

\begin{thm}{Теорема}\label{thm:Hausdorff-compact}
Непрерывная биекция $f$ между компактными метрическими пространствами имеет непрерывную обратную.
В частности, справедливо следующее.

\begin{subthm}{}
Любая непрерывная биекция между компактными метрическими пространствами
является гомеоморфизмом.
\end{subthm}

{\sloppy

\begin{subthm}{}
Любое непрерывное инъективное отображение компактного метрического пространства в другое метрическое пространство
является вложением.
\end{subthm}

}

\end{thm}

\subsection*{Связные множества}

Напомним, что непрерывное отображение $\alpha$ из отрезка $[0,1]$ в евклидово пространство называется \index{путь}\emph{путём}.
Если $p=\alpha (0)$ и $q = \alpha (1)$, то мы говорим, что $\alpha$ соединяет $p$ с~$q$.

Непустое множество $X$ евклидова пространства называется \index{линейно связное множество}\emph{линейно связным}, если любые две точки $x,y\z\in X$ можно соединить путём, лежащим в~$X$.

Непустое множество $X$ евклидова пространства называется \index{связное множество}\emph{связным}, если его нельзя покрыть двумя непересекающимися открытыми множествами $V$ и $W$ такими, что оба пересечения $X\cap V$ и $X\cap W$ непусты.

Обратите внимание, что связные и линейно связные пространства по определению не пусты. 

\begin{thm}{Утверждение}
Любое линейно связное множество связно.

Более того, любое открытое связное множество евклидова пространства (или плоскости) линейно связно.
\end{thm}

Для данной точки $x\in X$ максимальное связное подмножество $X$, содержащее $x$, называется {}\emph{связной компонентой} $x$ в~$X$.

\subsection*{Теорема Жордана}
\index{теорема Жордана}

Первая часть следующей теоремы доказана Камилем Жорданом, вторая --- Артуром Шёнфлисом.

\begin{thm}{Теорема}\label{thm:jordan}
Дополнение любой простой замкнутой кривой $\gamma$ в $\mathbb{R}^2$ имеет ровно две связные компоненты. 
Более того, существует гомеоморфизм $h\:\mathbb{R}^2\to \mathbb{R}^2$, отображающий единичную окружность в~$\gamma$.
В частности, $\gamma$ --- граница топологического диска.
\end{thm}


Эта теорема известна за простоту формулировки и сложность доказательства.
Короткое доказательство первого утверждения, основанное на несколько продвинутой технике, дано Патриком Дойлом \cite{doyle}, но есть и вполне элементарные доказательства, одно из таких найденно Алексеем Филипповым~\cite{filippov}.

В основном мы будем пользоваться этой теоремой для гладких кривых.
Этот случай проще, довольно любопытное его доказательство найдено Григорием Чамберсом и Евгением Лиокумовичем \cite{chambers-liokumovich}.

\section{Элементарная геометрия}

\subsection*{Внутренние углы}

Многоугольник определяется как компактное множество, ограниченное замкнутой ломаной. 
Напомним, что внутренний угол многоугольника $P$ при вершине $v$
определяется как угловая мера пересечения $P$ и маленькой окружности с центром в~$v$.

\begin{thm}{Теорема}\label{thm:sum=(n-2)pi}
Сумма всех внутренних углов $n$-угольника равна $(n\z-2)\cdot\pi$.
\end{thm}

Честное доказательство этой теоремы даётся например Гэри Майстерсом \cite{meisters}.
Оно использует индукцию по $n$ и основано на следующем не вполне тривиальном факте.

\begin{thm}{Факт}
Пусть $P$ --- $n$-угольник с $n\ge 4$.
Тогда одна из диагоналей $P$ полностью лежит в~$P$.
\end{thm}

\subsection*{Монотонность углов}

{}\emph{Мера} угла со сторонами $[p,x]$ и $[p,y]$ будет обозначаться $\measuredangle\hinge pxy$\index{10aab@$\measuredangle\hinge yxz$ (мера угла)};
она принимает значение в интервале $[0,\pi]$.

Следующая лемма проста и полезна.
Она говорит, что угол треугольника монотонно зависит от противолежащей стороны, если две другие стороны не меняют длины, и вытекает из теоремы косинусов.

\begin{thm}{Лемма}\label{lem:angle-monotonicity}
Предположим, что для точек $x$, $y$, $z$, $x^{*}$, $y^{*}$ и $z^{*}$ выполнено $\dist{x}{y}{}\z=|x^{*}-y^{*}|>0$ и $|y-z|=|y^{*}-z^{*}|>0$.
Тогда 
\[\measuredangle\hinge yxz
\ge
\measuredangle\hinge {y^{*}}{x^{*}}{z^{*}}
\ \Longleftrightarrow\
|x-z|\ge |x^{*}-z^{*}|.\]
\end{thm}

\subsection*{Сферическое неравенство треугольника}

Следующая теорема утверждает, что неравенство треугольника выполняется для углов между лучами с общим началом.
В частности, из этого следует, что сфера с угловой метрикой является метрическим пространством.

\begin{thm}{Теорема}\label{thm:spherical-triangle-inq}
Для любых трёх отрезков $[o,a]$, $[o,b]$ и $[o,c]$ евклидова пространства выполняется неравенство
\[\measuredangle\hinge oab
+
\measuredangle\hinge obc
\ge
\measuredangle\hinge oac.\]

\end{thm}

Эту теорему часто используют вовсе без упоминания, но её доказательство не такое уж простое.
Его можно найти в классическом учебнике по евклидовой геометрии Андрея Киселёва \cite[\S 47]{kiselyov}.

\subsection*{Площадь сферического треугольника}

\begin{thm}{Лемма}\label{lem:area-spher-triangle}
Пусть $\Delta$ --- сферический треугольник,
то есть пересечение трёх замкнутых полусфер на единичной сфере $\mathbb{S}^2$.
Тогда 
\[\area\Delta=\alpha+\beta+\gamma-\pi,\eqlbl{eq:area(Delta)}\]
где $\alpha$, $\beta$ и $\gamma$ --- углы треугольника $\Delta$.
\end{thm}

Величина $\alpha+\beta+\gamma-\pi$ называется \index{избыток треугольника}\emph{избытком} треугольника $\Delta$;
то есть можно сказать, что площадь сферического треугольника равна его избытку.

Эта лемма сыграет важную роль в интуитивном понимании формулы Гаусса --- Бонне.
Поэтому мы приводим её доказательство.

\begin{wrapfigure}{r}{16 mm}
\vskip-2mm
\centering
\includegraphics{mppics/pic-43}
\vskip2mm
\end{wrapfigure}

\parbf{Доказательство.}
Напомним, что 
\[\area\mathbb{S}^2=4\cdot\pi.\eqlbl{eq:area(S2)}\]

Заметим, что площадь сферического сектора $S_\alpha$ между двумя меридианами, пересекающимися под углом $\alpha$, пропорциональна $\alpha$.
Поскольку $S_\pi$ --- это полусфера, из \ref{eq:area(S2)} получаем $\area S_\pi\z=2\cdot\pi$.
Следовательно, коэффициент равен 2; то есть
\[\area S_\alpha=2\cdot \alpha
\eqlbl{eq:area(Sa)}\]
при любом $\alpha$.

Продлив стороны $\Delta$, получим 6 секторов: два $S_\alpha$, два $S_\beta$ и два $S_\gamma$.
Они покрывают почти всю сферу один раз,
но треугольник $\Delta$ и его центрально-симметричная копия $\Delta^{*}$ покрываются трижды.
Отсюда следует, что
\begin{align*}
2\cdot \area S_\alpha &+2\cdot \area S_\beta+2\cdot \area S_\gamma=
\\
&=\area\mathbb{S}^2+4\cdot\area\Delta.
\end{align*}
Остаётся применить \ref{eq:area(S2)} и \ref{eq:area(Sa)}.
\qeds

\section{Выпуклость}

Множество $X$ евклидова пространства называется \index{выпуклое множество}\emph{выпуклым}, если для любых двух точек $x,y\in X$ любая точка $z$ между ними лежит в~$X$.
Далее, $X$ называется {}\emph{строго выпуклым}, если для любых двух точек $x,y\in X$ любая точка $z$ между $x$ и $y$ лежит во внутренности~$X$.

Из определения видно, что пересечение произвольного семейства выпуклых множеств выпукло. 
Пересечение всех выпуклых множеств, содержащих данное множество $X$, называется его \index{выпуклая!оболочка}\emph{выпуклой оболочкой};
это минимальное выпуклое множество, содержащее~$X$.

Эти определения и следующие утверждения найдутся на первых страницах любого вводного текста по выпуклой геометрии;
например, в книге Курта Лайхтвайса \cite{leichtweiss} 
%Роджера Вебстера \cite{webster}.

\begin{figure*}[t!]
\begin{minipage}{.48\textwidth}
\centering
\includegraphics{mppics/pic-3540}
\end{minipage}\hfill
\begin{minipage}{.48\textwidth}
\centering
\includegraphics{mppics/pic-3542}
\end{minipage}
\end{figure*}

\subsection*{Разделяющие и опорные плоскости}

Следующая лемма --- частный случай так называемой \index{теорема о разделяющей гиперплоскости}\emph{теоремы о разделяющей гиперплоскости}.

\begin{thm}{Лемма}\label{lem:separation}
Пусть $K\subset \mathbb{R}^3$ --- замкнутое выпуклое множество.
Тогда для любой точки $p\notin K$ существует плоскость $\Pi$, которая разделяет $K$ и $p$;
то есть $K$ и $p$ лежат в противоположных открытых полупространствах, разделённых плоскостью $\Pi$.

Более того, для любой граничной точки $p\in\partial K$ существует \index{опорная плоскость}\emph{опорная плоскость}%
\footnote{Можно также говорить, что $\Pi$ подпирает $K$ в точке $p$.} $\Pi$ к $K$ в точке $p$;
то есть $\Pi\ni p$ и $K$ лежит в замкнутом полупространстве, ограниченном плоскостью $\Pi$.
\end{thm}

\section{Линейная алгебра}

Следующая теорема найдётся в любом учебнике по линейной алгебре;
подойдёт, например, книга Сергея Трейла \cite{treil}.

{\sloppy

\begin{thm}{Спектральная теорема}\label{thm:spectral}
Любая симметричная матрица диагонализируется ортогональной матрицей.
\end{thm}

}

Нам потребуется только матрицы $2{\times}2$.
В этом случае теорему можно переформулировать следующим образом:
Рассмотрим функцию
\begin{align*}
f(x,y)&=
\begin{pmatrix}
x&y
\end{pmatrix}
\cdot
\begin{pmatrix}
\ell&m
\\
m&n
\end{pmatrix}
\cdot
\begin{pmatrix}
x\\y
\end{pmatrix}=
\\
&=\ell\cdot x^2+2\cdot m\cdot x\cdot y+n\cdot y^2,
\end{align*}
определенную на координатной плоскости.
Тогда после подходящего поворота координат
выражение для $f$ в новых $(x,y)$-координатах будет иметь вид
\begin{align*}
\bar f(x,y)&=
\begin{pmatrix}
x&y
\end{pmatrix}
\cdot
\begin{pmatrix}
k_1&0
\\
0&k_2
\end{pmatrix}
\cdot
\begin{pmatrix}
x\\y
\end{pmatrix}=
\\
&=k_1\cdot x^2+k_2\cdot y^2.
\end{align*}

\section{Анализ}\label{sec:analysis}

Следующие теоремы обсуждаются в любом вводном курсе по вещественному анализу.
Например, в классическом учебнике Уолтера Рудина \cite{rudin}.

\subsection*{Измеримые функции}

Функция называется \index{измеримая функция}\emph{измеримой}, если прообраз любого борелевского множества борелевский.
Практически все функции, которые естественным образом появляются в геометрии, являются измеримыми.

Следующая теорема позволяет распространить многие утверждения с непрерывных функций на измеримые.

\begin{thm}{Теорема Лузина}\label{thm:lusin}
Пусть $\phi\:[a,b]\to \mathbb{R}$ --- измеримая функция.
Для любого $\epsilon>0$ найдётся непрерывная функция $\psi_\epsilon\:[a,b]\z\to \mathbb{R}$, совпадающая с $\phi$ вне множества меры, не превышающей $\epsilon$.
Более того, если $\phi$ ограничена сверху и/или снизу, то можно считать, что то же верно и для~$\psi_\epsilon$.  
\end{thm}

\begin{figure*}[b!]
\begin{minipage}{.48\textwidth}
\centering
\includegraphics{mppics/pic-320}
\end{minipage}\hfill
\begin{minipage}{.48\textwidth}
\centering
\includegraphics{mppics/pic-321}
\end{minipage}
\end{figure*}

\begin{figure*}[t!]
\begin{minipage}{.48\textwidth}
\centering
\includegraphics{mppics/pic-325}
\end{minipage}\hfill
\begin{minipage}{.48\textwidth}
\centering
\includegraphics{mppics/pic-326}
\end{minipage}
\end{figure*}

\subsection*{Условие Липшица}

Напомним, что функция $f$ между метрическими пространствами называется \index{липшицева функция}\emph{липшицевой}, если найдётся константа $L$ такая, что 
\[\dist{f(x)}{f(y)}{}\le L\cdot\dist{x}{y}{}\]
для всех значений $x$ и $y$ в области определения~$f$.

Следующая теорема позволяет распространить многие результаты с гладких функций на липшицевы.
Напомним, что {}\emph{почти все} означает все значения, за исключением множества нулевой {}\emph{меры Лебега}.

\begin{thm}{Теорема Радемахера}\label{thm:rademacher}
Пусть $f\:[a,b]\to\mathbb{R}$ --- липшицева функция.
Тогда её производная $f'$ --- ограниченная измеримая функция, определённая почти везде на $[a,b]$.
Более того, она удовлетворяет основной теореме анализа; то есть верно равенство 
\[f(b)-f(a)=\int_a^b f'(x)\cdot dx,\]
если интеграл понимать в смысле Лебега.
\end{thm}


\subsection*{Равномерная непрерывность и сходимость}

Пусть $f\:{\spc{X}}\to \spc{Y}$ --- отображение между метрическими пространствами.
Если для любого $\epsilon>0$ существует $\delta\z>0$, такое что
\[\dist{x_1}{x_2}{\spc{X}}<\delta\ \Longrightarrow\ \dist{f(x_1)}{f(x_2)}{\spc{Y}}<\epsilon,\]
то функция $f$ называется \index{равномерная непрерывность}\emph{равномерно непрерывной}.

Ясно, что любая равномерно непрерывная функция непрерывна;
обратное неверно.
Например, функция $f(x)=x^2$ непрерывна, но не является равномерно непрерывной.

{\sloppy

\begin{thm}{Теорема}
Любая непрерывная функция, на компактном метрическом пространстве, равномерно непрерывна.
\end{thm}

}

Если условие выше выполняется для любой функции $f_n$ в последовательности, и $\delta$ зависит только от $\epsilon$,
то такая последовательность $f_n$ называется \index{равностепенно непрерывная последовательность}\emph{равностепенно непрерывной}.
Более точно, 
последовательность функций $f_n:{\spc{X}}\to \spc{Y}$ называется равностепенно непрерывной, если 
для любого $\epsilon>0$ существует $\delta>0$, такое что 
\[\dist{x_1}{x_2}{\spc{X}}<\delta\ \Longrightarrow\ \dist{f_n(x_1)}{f_n(x_2)}{\spc{Y}}<\epsilon\]
для любого~$n$.

Мы говорим, что последовательность функций $f_i\: {\spc{X}} \to \spc{Y}$ \index{равномерная сходимость}\emph{равномерно сходится} к функции $f_{\infty}\: {\spc{X}} \to \spc{Y}$, если для любого 
$\epsilon>0$ существует натуральное число $N$ такое, что $\dist{f_{\infty}(x)}{f_n (x)}{}<\epsilon$ для всех $n \ge N$.

{\sloppy

\begin{thm}{Теорема Арцела --- Асколи}\label{lem:equicontinuous}
Пусть $\spc{X}$ и $\spc{Y}$ --- компактные метрические пространства. 
Тогда в любой равностепенно непрерывной последовательности функций $f_n\:\spc{X}\z\to \spc{Y}$ найдётся подпоследовательность, равномерно сходящаяся к некоторой непрерывной функции $f_\infty\:\spc{X}\z\to \spc{Y}$. 
\end{thm}

}


\subsection*{Срезки и сглаживания}

Здесь мы обсудим как строить гладкие функции, которые ведут себя как определённые модельные функций.
Эти построения используются при сглаживании модельных геометрических объектов.

Для начала рассмотрим следующие две функции
\begin{align*}
h(t)&\df
\begin{cases}
0&\text{если}\ t\le 0,
\\
t&\text{если}\ t> 0;
\end{cases}
\\
f(t)&\df
\begin{cases}
0&\text{если}\ t\le 0,
\\
\frac{t}{e^{1\!/\!t}}&\text{если}\ t> 0.
\end{cases}
\end{align*}
Они ведут себя похоже ---
обе равны нулю при $t\le 0$ и возрастают до бесконечности при положительных $t$.
Функция $h$ не является гладкой --- у неё неопределена производная в нуле.
При этом функция $f$ гладкая.
Действительно, существование всех производных $f^{(n)}(x)$ при $x\ne 0$ очевидно, в то время как прямые вычисления дают, что $f^{(n)}(0)=0$ для всех~$n$.

Другой пример: \index{колокольчик}\emph{колокольчик} --- гладкая функция, которая положительна в $\epsilon$-окрестности нуля и обращающаяся ноль за пределами этой окрестности.
Такие функции можно получить из функции $f$, построенной выше, например как
\[b_\epsilon(t)\df c\cdot f(\epsilon^2-t^2);\]
обычно константу $c$ подбирают так, чтобы $\int b_\epsilon=1$.

Ещё один полезный пример: \index{сигмоид}\emph{сигмоид} --- неубывающая функция, которая равна нулю при $t\le -\epsilon$ и единице при $t\ge \epsilon$.
Она имитирует ступенчатую функцию; её можно задать как \label{page:sigma-function}
\[\sigma_\epsilon(t)
\df 
\int_{-\infty}^t b_\epsilon(x)\cdot dx.\]

\section{Векторный анализ}\label{sec:Multivariable calculus}

Следующие теоремы обсуждается в любом курсе по векторному анализу;
например, в уже упомянутом учебнике Уолтера Рудина \cite{rudin}.

\subsection*{Регулярные значения}

Пусть $\Omega\subset\mathbb{R}^m$ --- открытое можество.
Любое отображение $\bm{f}\:\Omega\z\to\mathbb{R}^n$ можно рассматривать как набор координатных функций
\[f_1,\dots,f_n\:\Omega\to \mathbb{R}.\]
Оно называется \index{гладкое отображение}\emph{гладким}, если каждая функция $f_i$ гладкая;
то есть всевозможные частные производные функции $f_i$ определены в области $\Omega$.

\emph{Матрица Якоби} отображения $\bm{f}$ в точке $\bm{x}\in\mathbb{R}^m$ определяется как \index{10j@$\Jac$ (матрица Якоби)}
\[\Jac_{\bm{x}}\bm{f}=
\begin{pmatrix}
\dfrac{\partial f_1}{\partial x_1} & \cdots & \dfrac{\partial f_1}{\partial x_m}\\
\vdots & \ddots & \vdots\\
\dfrac{\partial f_n}{\partial x_1} & \cdots & \dfrac{\partial f_n}{\partial x_m} \end{pmatrix};\]
предполагается, что правая часть вычислена в точке $\bm{x}=(x_1,\dots,x_m)$.

Если матрица Якоби определяет сюръективное линейное отображение $\mathbb{R}^m\to\mathbb{R}^n$ (то есть если $\rank(\Jac_{\bm{x}}\bm{f})\z=n$), то мы говорим, что
$\bm{x}$ --- это \index{регулярная точка}\emph{регулярная точка}~$\bm{f}$.

Если $\bm{x}$ является регулярной точкой всякий раз, когда $\bm{f}(\bm{x})=\bm{y}$,
то мы говорим, что $\bm{y}$ является \index{регулярное значение}\emph{регулярным значением}~$\bm{f}$.
Следующая лемма утверждает, что \textit{большинство} значений гладкого отображения являются регулярными.

\begin{thm}{Лемма Сарда}\label{lem:sard}
Для гладкого отображения $\bm{f}\colon \Omega \z\to \mathbb{R}^n$, определённого на открытом множестве $\Omega\subset \mathbb{R}^m$, почти все значения в $\mathbb{R}^n$ регулярны.
\end{thm}

Слова \index{почти все}\emph{почти все} означают все значения, за исключением множества нулевой {}\emph{меры Лебега}.
В частности, если выбрать случайное значение, равномерно распределённое в произвольно малом шаре $B\z\subset \mathbb{R}^n$, то оно окажется регулярным $\bm{f}$ с вероятностью~1.

Обратите внимание, что если $m<n$, то любая точка $\bm{y}=\bm{f}(\bm{x})$ \textit{не} является регулярным значением $\bm{f}$.
Таким образом, регулярные значения $\bm{f}$ не являются значениями $\bm{f}$, то есть принадлежат дополнению образа $\Im \bm{f}$.
В этом случае теорема утверждает, что почти все точки в $\mathbb{R}^n$ \textit{не} принадлежат $\Im \bm{f}$.

\subsection*{Теорема об обратной функции}

{\sloppy

\index{теорема об обратной функции}\emph{Теорема об обратной функции} даёт условие, при котором отображение $\bm{f}$ обратимо в окрестности заданной точки $\bm{x}$.
Это условие формулируется в терминах матрицы Якоби $\bm{f}$ в точке~$\bm{x}$.

}

\index{теорема о неявной функции}\emph{Теорема о неявной функции} --- близкая ей родственница и следствие.
Эта теорема понадобится при переходе от параметрического описания кривых и поверхностей к их неявному описанию и наоборот.

Обе теоремы сводят существование отображения, удовлетворяющего определённому уравнению, к задаче линейной алгебры.
Нам они потребуются только при $n\le 3$.

\begin{thm}{Теорема}\label{thm:inverse}
{\sloppy
Пусть $\bm{f}=(f_1,\z\dots,f_n)\:\Omega\to\mathbb{R}^n$ --- гладкое отображение, определённое на открытом множестве $\Omega\subset \mathbb{R}^n$.
Предположим, что матрица Якоби
$\Jac_{\bm{x}}\bm{f}$
обратима в точке $\bm{x}\in \Omega$.
Тогда существует гладкое отображение $\bm{h}\:\Phi\to\mathbb{R}^n$, определённое в некоторой открытой окрестности $\Phi$ точки ${\bm{y}}\z=\bm{f}(\bm{x})$, которое является {}\emph{локально обратным} к $\bm{f}$ в точке $\bm{x}$;
то есть существует окрестность $\Psi\ni \bm{x}$ такая, что
$\bm{f}$ определяет гомеоморфизм $\Psi\leftrightarrow \Phi$, и
$\bm{h} \circ \bm{f}$ является тождественным отображением на~$\Psi$.

}

Более того, если $|\det[\Jac_{\bm{x}}\bm{f}]|\z>\epsilon\z>0$, область $\Omega$ содержит $\epsilon$-окрестность точки $\bm{x}$,
а первые и вторые частные производные $\tfrac{\partial f_i}{\partial x_j}$, $\tfrac{\partial^2 f_i}{\partial x_j\partial x_k}$ ограничены константой $C$ для всех $i$, $j$ и $k$, то можно предположить, что $\Phi$ является $\delta$-окрестностью точки $\bm{y}$, где $\delta>0$ зависит только от $\epsilon$ и~$C$. 
\end{thm}

\begin{thm}{Теорема о неявной функции}\label{thm:imlicit}
Пусть $\bm{f}=(f_1,\dots,f_n)\:\Omega\z\to\mathbb{R}^n$ --- гладкое отображение, определённое на открытом подмножестве $\Omega\subset\mathbb{R}^{n+m}$, где
$m,n\z\ge 1$.
Рассмотрим $\mathbb{R}^{n+m}$ как декартово произведение $\mathbb{R}^n\times \mathbb{R}^m$ с координатами 
$x_1,\dots,x_n,y_1,\dots,y_m$.
Далее, рассмотрим следующую матрицу
\[
M=\begin{pmatrix}
\dfrac{\partial f_1}{\partial x_1} & \cdots & \dfrac{\partial f_1}{\partial x_n}\\
\vdots & \ddots & \vdots\\
\dfrac{\partial f_n}{\partial x_1} & \cdots & \dfrac{\partial f_n}{\partial x_n} \end{pmatrix}\]
состоящую из первых $n$ столбцов матрицы Якоби.
Предположим, что $M$ обратима в точке $\bm{x}\z=(x_1,\dots,x_n,y_1,\dots y_m)\in \Omega$, и $\bm{f}(\bm{x})=0$.
Тогда существует окрестность $\Psi\ni \bm{x}$
и гладкая функция $\bm{h}\:\mathbb{R}^m\z\to\mathbb{R}^n$, определённая в окрестности $\Phi\ni 0$, такая что
для любых $(x_1,\dots,x_n,y_1,\dots y_m)\z\in \Psi$ равенство
\[\bm{f}(x_1,\dots,x_n,y_1,\dots y_m)=0\]
выполняется тогда и только тогда, когда
\[(x_1,\dots x_n)=\bm{h}(y_1,\dots y_m).\]

\end{thm}

\subsection*{Кратные интегралы}

Пусть $\bm{f}\:\mathbb{R}^n\to\mathbb{R}^n$ --- гладкое отображение (возможно, частично определённое).
Определим
\[\jac_{\bm{x}}\bm{f}\df|\det[\Jac_{\bm{x}}\bm{f}]|;
\index{10j@$\jac$ (определитель Якоби)}\]
то есть $\jac_{\bm{x}}\bm{f}$ --- модуль определителя матрицы Якоби $\bm{f}$ в точке~$\bm{x}$;
мы будем назвать его \index{якобиан}\emph{якобианом}.

Следующая теорема предоставляет формулу замены переменных под кратным интегралом.

\index{борелевские подмножества}\emph{Борелевские подмножества} определяются как класс подмножеств, который порождается открытыми множествами с помощью последовательного применения следующих операций: счётного объединения, счётного пересечения и дополнения.
Так как дополнение замкнутого множества является открытым, и наоборот, эти множества могут также быть получены из всех замкнутых множеств.
Этот класс множеств включает практически все множества, которые естественным образом появляются в геометрии, но не включает патологические примеры, создающие проблемы с интегрированием.

\begin{thm}{Теорема}\label{thm:mult-substitution} 
Пусть $h\:K\to\mathbb{R}$ --- непрерывная функция на борелевском подмножестве $K\subset \mathbb{R}^n$.
Предположим, что $\bm{f}\:\Omega\to \mathbb{R}^n$ --- инъективное гладкое отображение, определённое на открытом множестве $\Omega\supset K$.
Тогда
\[\idotsint_{\bm{x}\in K} \!h(\bm{x})\cdot \jac_{\bm{x}}\bm{f}
=
\idotsint_{\bm{y}\in \bm{f}(K)} \!h\circ \bm{f}^{-1}(\bm{y}).\]

\end{thm}

\subsection*{Выпуклые функции}

Следующие утверждения потребуются только при $n\le 3$.

Пусть $f\:\mathbb{R}^n\to \mathbb{R}$ --- гладкая функция (возможно, частично определённая).
Выберем вектор $\vec w\in \mathbb{R}^n$.
Для заданной точки $p\in\mathbb{R}^n$ рассмотрим функцию $\phi(t)=f(p+t\cdot \vec w)$.
Тогда производная $(D_{\vec w}f)(p)$ функции $f$ в точке $p$ \index{производная по направлению}\emph{по направлению} вектора $\vec w$ определяется как
\[(D_{\vec w}f)(p)=\phi'(0).\]

Функция $f$ называется \index{выпуклая!функция}\emph{(строго) выпуклой}, если её эпиграф $z\z\ge f(\bm{x})$ является (строго) выпуклым множеством в $\mathbb{R}^n\times \mathbb{R}$.

\begin{thm}{Теорема}\label{thm:Jensen}
Гладкая функция $f\:K\to \mathbb{R}$, определённая на выпуклом подмножестве $K\subset\mathbb{R}^n$, является выпуклой тогда и только тогда, когда выполняется одно из следующих эквивалентных условий:

\begin{subthm}{}
Вторая производная $f$ в любой точке по любому направлению неотрицательна, то есть
\[(D_{\vec w}^2f)(p)\ge 0\]
для любых $p\in K$ и $\vec w\in\mathbb{R}^n$.
\end{subthm}

\begin{subthm}{}
Так называемое \index{неравенство Йенсена}\emph{неравенство Йенсена}
\begin{align*}
f (&(1-t)\cdot x_0 + t\cdot x_1 ) \le
\\
&\le (1-t)\cdot f(x_0)+ t\cdot f(x_1)
\end{align*}
выполняется для любых $x_0,x_1\z\in K$ и $t\z\in[0,1]$.

\end{subthm}

\begin{subthm}{}
Для любых $x_0,x_1\in K$ выполняется неравенство
\[f \left (\frac{x_0 + x_1}2 \right ) \le \frac{f(x_0) + f(x_1)}2.\]
\end{subthm}

\end{thm}

\section[Дифференциальные уравнения]{Дифуры}

{\sloppy

Следующий материал обсуждается в начале любого курса по обыкновенным дифференциальным уравнениям;
например в классическом учебнике Владимира Арнольда \cite{arnold}.

}

\subsection*{Уравнения первого порядка}

Следующая теорема гарантирует существование и единственность решения задачи Коши для системы обыкновенных дифференциальных уравнений первого порядка
\[
\begin{cases}
x_1'&=f_1(x_1,\dots,x_n,t),
\\
&\,\,\vdots
\\
x_n'&=f_n(x_1,\dots,x_n,t),
\end{cases}
\]
где каждая функция $t\mapsto x_i=x_i(t)$ определена на вещественном интервале $\mathbb{J}$ и принимает вещественные значения, а каждая функция $f_i$ гладкая и определена на открытом подмножестве $\Omega\subset \mathbb{R}^n\times \mathbb{R}$.

Набор функций $(f_1,\dots,f_n)$ можно объединить в одну векторозначную функцию $\bm{f}\:\Omega\to \mathbb{R}^n$; аналогично, набор функций $(x_1,\dots,x_n)$ можно объединить в векторозначную функцию $\bm{x}\:\mathbb{J}\to\mathbb{R}^n$.
Таким образом, систему переписывается как одно векторное уравнение
\[\bm{x}'=\bm{f}(\bm{x}, t).\]

\begin{thm}{Теорема}\label{thm:ODE}
Пусть $\bm{f}\:\Omega\to \mathbb{R}^n$ --- гладкая функция, определённая на открытом подмножестве $\Omega\z\subset \mathbb{R}^n\z\times \mathbb{R}$.
Тогда для любых начальных данных $\bm{x}(t_0)=\bm{u}$ таких, что $(\bm{u},t_0)\in\Omega$, дифференциальное уравнение
\[\bm{x}'=\bm{f}(\bm{x},t)\]
имеет единственное решение $t\mapsto \bm{x}(t)$, определённое на максимальном интервале $\mathbb{J}$, содержащем $t_0$.
Более того,
\begin{enumerate}[(a)]
\item если $\mathbb{J}\ne \mathbb{R}$, то есть один из концов $\mathbb{J}$, скажем $b$, конечен, тогда $(\bm{x}(t),t)$ не имеет предельной точки в $\Omega$ при $t\to b$;%
\footnote{Другими словами, если $\bm{x}(t_n)$ сходится для последовательности $t_n\to b$, то её предел не лежит в $\Omega$.}

\item функция $w\:(\bm{u},t_0,t)\mapsto \bm{x}(t)$ имеет открытую область определения в $\Omega\times \mathbb{R}$, содержащую все точки вида $(\bm{u},t_0,t_0)$ при $(\bm{u},t_0)\in\Omega$,
и $w$ является гладкой функцией в этой области.
\end{enumerate}

\end{thm}

\subsection*{Высшие порядки}

Рассмотрим обыкновенное дифференциальное уравнение порядка~$k$
\[\bm{x}^{(k)}=\bm{f}(\bm{x},\bm{x}',\dots,\bm{x}^{(k-1)},t),\eqlbl{eq:nth-order}\]
где $t\mapsto\bm{x}=\bm{x}(t)$ --- функция, заданная на вещественном интервале, и принимающая значения в $\mathbb{R}^n$.

Это уравнение можно переписать как $k$ уравнений первого порядка, добавив $(k-1)$-у новую векторную переменную
$\bm{y}_1\z=\bm{x}'$,
$\bm{y}_2\z=\bm{x}'',\z\dots,\bm{y}_{k-1}\z=\bm{x}^{(k-1)}$:
\[
\begin{cases}
\bm{x}'(t)&=\bm{y}_1(t),
\\
\bm{y}_1'(t)&=\bm{y}_2(t),
\\
&\,\,\vdots
\\
\bm{y}_{k-2}'(t)&=\bm{y}_{k-1}(t),
\\
\bm{y}_{k-1}'(t)&=\bm{f}(\bm{x},\bm{y}_{1},\dots,\bm{y}_{k-1},t).
\end{cases}
\eqlbl{eq:nth-order-new}
\]

Итак, мы вывели следующую теорему.

\begin{thm}{Теорема}\label{thm:ODE-nth-order}
Уравнение $k$-го порядка \ref{eq:nth-order} эквивалентно системе \ref{eq:nth-order-new} из $k$ уравнений первого порядка.
\end{thm}

Этот трюк, сводит вопросы существования и единственности для обыкновенных дифференциальных уравнений высших порядков к соответственным вопросам для уравнений первого порядка.
Tо есть теорема \ref{thm:ODE} обобщается на уравнения высших порядков, надо только предположить, что $\Omega\z\subset \mathbb{R}^{n\cdot k}\times \mathbb{R}$, а начальные данные состоят из $\bm{x}(t_0)$, $\bm{x}'(t_0),\dots,\bm{x}^{(k-1)}(t_0)$.

}
\end{multicols}
